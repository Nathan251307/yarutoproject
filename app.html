<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App | Yaruto</title>
    <link rel="icon" type="image/png" href="logoyarutofavi.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sawarabi+Gothic&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body style="background-color: #ECDCC3;">
    <div class="col-auto card mb-3 w-25" style="margin-top: 30px; margin-left: 30px; background-color: #ECDCC3; border-color: #ECDCC3;">
        <div>
            <h3 id="introduction" style="font-family: Sawarabi Gothic;"></h3> <br>
            <h4 style="font-family: Sawarabi Gothic">It is currently:</h4>
            <h3 class="clock", id="current-time" style="font-family: Sawarabi Gothic;">It is currently</h3>
            <button style="font-family: Sawarabi Gothic; background-color: #b92c0d; color: white;" onclick="window.location.href='index.html'">Logout</button>
        </div>
    </div>
    <div class="container d-flex" style="align-items: center; justify-content: center; flex-direction: column; margin-top: 50px;">
        <h2 style="font-family: Sawarabi Gothic;">To-Do List</h2>
        <form id="task-form">
            <input type="text" id="task-input" placeholder="Add new task..." required style="font-family: Sawarabi Gothic;">
            <button type="submit" style="font-family: Sawarabi Gothic; margin-top: 50px; background-color: #b92c0d; color: white;">Add Task</button>
        </form>
        <ul id="task-list"></ul>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('task-form');
            const input = document.getElementById('task-input');
            const taskList = document.getElementById('task-list');

            // Load tasks from localStorage
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

            // Render tasks on page load
            renderTasks();

            // Add new task
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const taskText = input.value.trim();
                if (taskText === '') return;

                const newTask = {
                id: Date.now(),
                text: taskText,
                completed: false
                };

                tasks.push(newTask);
                saveTasks();
                renderTasks();
                input.value = '';
            });

            // Render all tasks
            function renderTasks() {
                taskList.innerHTML = '';
                tasks.forEach(task => {
                const li = document.createElement('li');
                li.className = 'task-item';
                li.innerHTML = `
                    <span class="task-text ${task.completed ? 'completed' : ''}">${task.text}</span>
                    <button class="delete-btn">Delete</button>
                `;
                
                // Toggle completed status
                li.querySelector('.task-text').addEventListener('click', () => {
                    task.completed = !task.completed;
                    saveTasks();
                    renderTasks();
                });

                // Delete task
                li.querySelector('.delete-btn').addEventListener('click', () => {
                    tasks = tasks.filter(t => t.id !== task.id);
                    saveTasks();
                    renderTasks();
                });

                taskList.appendChild(li);
                });
            }

            // Save tasks to localStorage
            function saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(tasks));
            }
        });
    </script>
    <script>

        const morning = "おはよう、ケイラちゃん 🌤️"
        const afternoon = "こんにちわ、ケイラちゃん ☀️"
        const evening = "こんばんわ、ケイラちゃん 🌙"

        function updateDateTime(){
            const now = new Date();
            const options = {weekday:'long' , month:'long', day:'numeric', year:'numeric', 
            hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:true}
        
            document.getElementById("current-time").textContent = now.toLocaleDateString('en-US',options)
            const hour = now.getHours();
            if(hour >= 6 && hour < 11){
            document.getElementById("introduction").innerHTML = morning
            }
            else if(hour >= 11 && hour < 15){
            document.getElementById("introduction").innerHTML = afternoon
            }
            else if(hour >= 15 && hour < 23){
            document.getElementById("introduction").innerHTML = evening
            }
        }
        
            
        
        updateDateTime();
        setInterval(updateDateTime, 1000);
    
        updateTime();
        setInterval(updateTime, 1000)


    </script>
    



















    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</body>
</html>
